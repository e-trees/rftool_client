# キャプチャモジュールで IQ ミキシングした波形をキャプチャする

[awg_send_iq_recv.py](./awg_send_iq_recv.py) は，AWG 0 から 80 [MHz] の正弦波を出力し，
キャプチャモジュール 0 で 50 [MHz] の IQ ミキサをかけてキャプチャするスクリプトです．

AWG 0 の出力波形  
![AWG 0 の出力波形](images/actual_seq_0_waveform.png)

## セットアップ

次のように ADC と DAC を接続します．  

![セットアップ](../../docs/images/awg-x1-setup.png)

## 実行手順と結果

以下のコマンドを実行します．

```
python awg_send_iq_recv.py
```

キャプチャモジュール 0 がキャプチャした I データおよび Q データの波形とそのスペクトルのグラフが，カレントディレクトリの下の `plot_awg_send_iq_recv` ディレクトリ以下に作成されます．
スペクトルのピークが現れる位置は，同スクリプトのファイルコメントを参照してください．

キャプチャモジュール 0 がキャプチャした I データの波形 (先頭 184 サンプル)  
![キャプチャモジュール 0 がキャプチャした I データの波形](images/AWG_0_step_0_frame_0_I_captured.png)

キャプチャモジュール 0 がキャプチャした Q データの波形 (先頭 184 サンプル)  
![キャプチャモジュール 0 がキャプチャした Q データの波形](images/AWG_0_step_0_frame_0_Q_captured.png)

キャプチャモジュール 0 がキャプチャした I データ (先頭 8192 サンプル) のスペクトル  
![キャプチャモジュール 0 がキャプチャした I データのスペクトル](images/AWG_0_step_0_frame_0_I_FFT_abs.png)

キャプチャモジュール 0 がキャプチャした Q データ (先頭 8192 サンプル) のスペクトル  
![キャプチャモジュール 0 がキャプチャした Q データのスペクトル](images/AWG_0_step_0_frame_0_Q_FFT_abs.png)
